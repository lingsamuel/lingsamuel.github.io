<!doctype html><html lang=zh itemscope itemtype=http://schema.org/WebPage><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><title>一些 GNOME 配置 - Hakurei Shrine</title><link rel=alternate href=https://lingsamuel.github.io/index.xml type=application/rss+xml title="Hakurei Shrine"><link href=https://lingsamuel.github.io/img/favicon.ico rel=icon type=image/x-icon alt=favicon><link rel=stylesheet href=https://lingsamuel.github.io/css/main.min.1402f5c5c6383807c899aa1b78e6e7b88116059e24f89a6f2df3195e70dfa4d6.css integrity="sha256-FAL1xcY4OAfImaobeObnuIEWBZ4k+JpvLfMZXnDfpNY=" media=screen><link rel=stylesheet href=https://lingsamuel.github.io/css/book.min.4b0b8750931e5fac50e9f925eb06212025c38f696da645ae3b37180ebdcce4d3.css integrity="sha256-SwuHUJMeX6xQ6fkl6wYhICXDj2ltpkWuOzcYDr3M5NM=" media=screen><link rel=stylesheet href=https://lingsamuel.github.io/css/source-serif-text.min.c9da0ad693ce3a1c2c04f7a6eb65a3953cb830ab0316c8ba5f230f86aad7b486.css integrity="sha256-ydoK1pPOOhwsBPem62WjlTy4MKsDFsi6XyMPhqrXtIY=" media=screen><link rel=stylesheet href=https://lingsamuel.github.io/css/fonts.min.8c7cdb109cdcfdc41e1509b588ad9330dcf3d8ae8ba96dc5be2e1935aa7c30e2.css integrity="sha256-jHzbEJzc/cQeFQm1iK2TMNzz2K6LqW3Fvi4ZNap8MOI=" media=screen><link rel=preload href=https://lingsamuel.github.io/css/fira-code.min.311370d25700134bbb9a194f401aded40a90707976f08528042a506e5f0306ef.css integrity="sha256-MRNw0lcAE0u7mhlPQBre1AqQcHl28IUoBCpQbl8DBu8=" media=screen as=style onload="this.rel='stylesheet'"><link rel=preload href=https://lingsamuel.github.io/css/math-symbol.min.de044ea9623db3709e697fd61ab5698bf4bac9a737e77b4449579b0a56d70c29.css integrity="sha256-3gROqWI9s3CeaX/WGrVpi/S6yac353tESVebClbXDCk=" media=screen as=style onload="this.rel='stylesheet'"><script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga('create','UA-89095899-1','auto'),ga('send','pageview'))</script><script async src=https://www.google-analytics.com/analytics.js></script></head><body id=body><nav id=navbar><div class=nav><div class=navbar-header><img src=https://lingsamuel.github.io/img/favicon.ico class=favicon><a href=https://lingsamuel.github.io/>
Hakurei Shrine</a></div><div class=navbar-menu><ul><li><a title=Articles href=/page>Articles</a></li><li><a title=Reviews href=/review>Reviews</a></li><li><a title=Feeds href=/feed>Feeds</a></li><li><a title=Kubernetes href=/k8s>Kubernetes</a></li><li><a title=About href=/about>About</a></li><li><a title=Categories href=/categories>Categories</a></li><li><a title=Tags href=/tags>Tags</a></li></ul></div></div></nav><div class=flex-container><div class=container id=mainContainer role=main><header class="header post-header"><div class=row><div class=post-title><h1>一些 GNOME 配置</h1></div><div class=post-meta><span class=author>Ling Samuel</span>
&bull;
<span class=date>2020-12-28</span>
&bull;
<span class=categories><a href=https://lingsamuel.github.io/categories/system-maintenance/>system-maintenance</a>&nbsp;</span>
&bull;
<span class=tags><a href=https://lingsamuel.github.io//tags/linux/>linux</a>&nbsp;
<a href=https://lingsamuel.github.io//tags/gnome/>gnome</a>&nbsp;</span></div></div></header><div class=row><div><article role=main class=post-content><p>一些提升生活质量的 Gnome 配置。</p><h2 id=禁用输错密码账号锁定>禁用输错密码账号锁定</h2><p>配置：<code>/etc/security/faillock.conf</code>，设置 <code>deny = 0</code>。</p><h2 id=workspace-indicator-显示工作区名>Workspace Indicator 显示工作区名</h2><p>DConf 路径：<code>/org/gnome/desktop/wm/preferences/workspace-names</code>。</p><p>插件路径：<code>$HOME/.local/share/gnome-shell/extensions/workspace-indicator@gnome-shell-extensions.gcampax.github.com</code>，修改 <code>extension.js</code>：</p><div class=highlight><pre class=chroma><code class=language-diff data-lang=diff>_labelText(workspaceIndex) {
    if (workspaceIndex === undefined) {
        workspaceIndex = this._currentWorkspace;
<span class=gd>-       return (workspaceIndex + 1).toString();
</span><span class=gd></span><span class=gi>+       return Meta.prefs_get_workspace_name(workspaceIndex) + &#34; (&#34; + (workspaceIndex + 1).toString() + &#34;)&#34;;
</span><span class=gi></span>    }
    return Meta.prefs_get_workspace_name(workspaceIndex);
}
</code></pre></div><p>在绘制 labelText 时，如果没有传进 index 参数，就只会显示一个数字，我个人觉得挺怪的。</p><p>修改完成后，<code>Alt+F2</code> 输入 <code>r</code> 重启即可。</p><h3 id=3381-更新>3.38.1 更新</h3><p>新路径：<code>/usr/share/gnome-shell/extensions/workspace-indicator@gnome-shell-extensions.gcampax.github.com</code>。</p><h2 id=禁用自动-hibernate>禁用自动 Hibernate</h2><p>Gnome 的休眠 bug 实在太多了。</p><p>DConf 路径：<code>/org/gnome/settings-daemon/plugins/power/sleep-inactive-battery-type</code>。</p><h2 id=context-menu-配置>Context Menu 配置</h2><p>安装 <code>filemanager-actions</code>。</p><ul><li><p>在设置中，取消勾选 <code>Create a root 'FileManager-Actions' menu</code></p></li><li><p>添加 <code>Open in Code</code></p><ul><li>勾选 <code>Display item in location context menu</code></li><li>Command - Path 设置为 <code>code</code>，参数为 <code>%B</code></li></ul></li></ul><div id=refContainer></div></article></div><div class=post-pager><ul class=pager><li class=previous><a href=https://lingsamuel.github.io/page/2020-12-21-%E6%B8%B8%E6%88%8F%E5%B7%A5%E4%B8%9A%E7%9A%84%E4%B8%8B%E4%B8%80%E4%B8%AA%E6%97%B6%E4%BB%A3%E6%98%AF%E5%90%A6%E5%88%B0%E6%9D%A5%E4%BA%86/>&larr; 游戏工业的下一个时代是否到来了？</a></li><li class=next><a href=https://lingsamuel.github.io/page/2021-01-13-%E4%BF%AE%E5%A4%8D-noto-color-emoji-%E6%98%BE%E7%A4%BA%E4%B8%BA%E7%A9%BA%E7%9A%84%E9%97%AE%E9%A2%98/>修复 Noto Color Emoji 显示为空的问题 &rarr;</a></li></ul></div></div></div><div id=toc><aside><nav id=TableOfContents><ul><li><a href=#禁用输错密码账号锁定>禁用输错密码账号锁定</a></li><li><a href=#workspace-indicator-显示工作区名>Workspace Indicator 显示工作区名</a><ul><li><a href=#3381-更新>3.38.1 更新</a></li></ul></li><li><a href=#禁用自动-hibernate>禁用自动 Hibernate</a></li><li><a href=#context-menu-配置>Context Menu 配置</a></li></ul></nav></aside></div></div><footer id=footer><div class=footer><p>Copyright © 2021 <a href=https://lingsamuel.github.io>Ling Samuel</a> &bull; Powered by <a href=https://gohugo.io>Hugo v0.82.0</a> &bull; Theme <a href=https://github.com/lingsamuel/purity>Purity</a> &bull; Hosted by GitHub</p></div></footer></body></html>